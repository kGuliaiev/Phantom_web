
–≤—á–µ—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –∏ –ø–æ–ª—É—á–∞–ª–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è. –°–µ–≥–æ–¥–Ω—è —ç—Ç–æ –ø–æ–ª–æ–º–∞–ª –∏ –æ–Ω–∏ –¥–∞–∂–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è!!!!

–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π - –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–º –≤–∏–¥–µ, –¥–∞–ª–µ–µ —É –Ω–µ–≥–æ –º–µ–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞!
–ø–µ—Ä–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ - –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–∞–Ω–∑–∏—Ç–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
–∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–µ –≤ —Å–µ—Ç–∏
–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–∞–∫ —á—Ç–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—É—à–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä, —Å–µ—Ä–≤–µ—Ä —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö, –ø–æ–ª—É—á–∞—Ç–µ–ª—å –∑–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ —Å–æ–æ–±—é—â–µ–Ω–∏—é —á—Ç–æ –æ–Ω–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ - 2 –≥–∞–ª–æ—á–∫–∏
–ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á—Ç–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ, –∞ —Å–µ—Ä–≤–µ—Ä —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –¥–∞–ª—å—à–µ

–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø–æ–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –∏—Ö –Ω–µ –∑–∞–±–µ—Ä—É—Ç

–ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —à–∏—Ñ—Ä—É–µ—Ç—Å—è —Å –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è
—É –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Ä–∞—Å—à–∏—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è, –≤ –±–∞–∑–µ –ª–æ–∫–∞–ª—å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ

—Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–ª–µ–≤–∞ –≤ —Å–∏–Ω–∏—Ö –±–∞–ª—É–Ω–∞—Ö
—Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è - –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –≤ —Å–µ—Ä—ã—Ö –±–∞–ª—É–Ω–∞—Ö

–ø—Ä–∏ –ø–æ—É–ª—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ




–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ:
1. —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
2. –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ - –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ - 1 –≥–∞–ª–æ—á–∫–∞ —Å–µ—Ä–∞—è
4. –¥–∞–ª–µ–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é.
5. –ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å - –ø–æ–ª—É—á–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä - —Å–µ—Ä–≤–µ—Ä —à–ª–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é —Å—Ç–∞—Ç—É—Å - –ø–æ–ª—É—á–µ–Ω–æ - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è 2 —Å–µ—Ä—ã–µ –≥–∞–ª–æ—á–∫–∏
6. –ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–ª —Å–æ–æ–±—â–µ–Ω–∏–µ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –∞ —Ç–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª–∏—Ç–µ–ª—é –∏ —Ç–æ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è 2 —Å–∏–Ω–∏–µ –≥–∞–ª–æ—á–∫–∏ (–ø—Ä–æ—á–∏—Ç–∞–Ω–æ)




------------------
https://github.com/kGuliaiev/Phantom_web.git
https://github.com/kGuliaiev/Phantom_server.git

—Ç—É—Ç –¥–≤–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è 
–≤–Ω–µ—Å–∏ —Å—é–¥–∞ –ø—Ä–∞–≤–∫–∏


----------------------------------------------------

–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ—Ñ—Ñ–ª–∞–π–Ω –ª–∏–±–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ - –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ–∫–∞ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç, —á—Ç–æ –æ–Ω–ª–∞–π–Ω.
—Ç–æ–≥–¥–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä - —Ç—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–±–∏—Ä–∞.—Ç—Å—è –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –Ω–æ–≤—ã–µ –¥–ª—è –Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Ñ
------------------------------------------------------------------


–ö–æ–Ω—Ç–∞–∫—Ç—ã
–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —á–∞—Ç —Å —ç—Ç–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∏–∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞ (–æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω)
–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å

–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–∫–æ–Ω–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


–ß–ê–¢–´:

–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã
–≤–æ–∑–º–æ–∂–Ω—Å—Ç—å —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–∞
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –≥—Ä—É–ø–ø—ã










üü¢ –ê–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ, –¥–∞–≤–∞–π —Ä–∞–∑–ª–æ–∂–∏–º –≤—Å—ë –ø–æ —à–∞–≥–∞–º ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á—ë—Ç–∫–æ.

‚∏ª

‚úÖ –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–ª–∏–µ–Ω—Ç:

1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–∞ —Å–≤–æ–µ–π —Å—Ç–æ—Ä–æ–Ω–µ:

–ù–∞–∑–≤–∞–Ω–∏–µ			–ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç	–°—Ç–æ—Ä–æ–Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è		–ü—É–±–ª–∏—á–Ω—ã–π?
identityKeyPair		–∫–ª–∏–µ–Ω—Ç		–ü—Ä–∏–≤–∞—Ç–Ω—ã–π ‚Üí –∫–ª–∏–µ–Ω—Ç üîí	‚úÖ –¥–∞
signedPreKey		–∫–ª–∏–µ–Ω—Ç		–ü—Ä–∏–≤–∞—Ç–Ω—ã–π ‚Üí –∫–ª–∏–µ–Ω—Ç üîí	‚úÖ –¥–∞
oneTimePreKeys[]	–∫–ª–∏–µ–Ω—Ç		–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ ‚Üí –∫–ª–∏–µ–Ω—Ç üîí	‚úÖ –¥–∞

üìå –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —á–∞—Å—Ç–∏ —ç—Ç–∏—Ö –∫–ª—é—á–µ–π ‚Äî –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
üîí –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –∫–ª–∏–µ–Ω—Ç!

‚∏ª

üöÄ –ù–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:

{
  "username": "clientA",
  "identifier": "id123",
  "publicKey": "<identity public key>",
  "identityKey": "<identity public key>",
  "signedPreKey": "<signed pre-key>",
  "oneTimePreKeys": ["<otpk1>", "<otpk2>", "..."]
}

üì¶ –í—Å—ë —ç—Ç–æ ‚Äî –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:
	‚Ä¢	–í—Å–µ –∫–ª—é—á–∏ –ø—É–±–ª–∏—á–Ω—ã–µ
	‚Ä¢	–û–Ω–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

‚∏ª

üß† –ü–æ—á–µ–º—É –æ—Ç–∫—Ä—ã—Ç—ã–π –≤–∏–¥ ‚Äî –Ω–µ —É—è–∑–≤–∏–º–æ—Å—Ç—å?

–ü–æ—Ç–æ–º—É —á—Ç–æ:
	‚Ä¢	–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π –Ω–∏ –æ–¥–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
	‚Ä¢	–î–∞–∂–µ –µ—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–ª—É—á–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ ‚Äî –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞)

‚∏ª

üìå –¢–æ –µ—Å—Ç—å:
	‚Ä¢	üîê identityKey ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
	‚Ä¢	üì§ –ø—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
	‚Ä¢	üîí –ø—Ä–∏–≤–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª‚∏ª	

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚Äî –¥–∞–≤–∞–π —Å—Ä–∞–≤–Ω–∏–º LocalStorage –∏ IndexedDB –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞:

‚∏ª

‚úÖ TL;DR ‚Äî –∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥:

–î–ª—è —á–µ–≥–æ	–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ
üîí –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π	‚úÖ IndexedDB
‚ö° –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø	‚úÖ LocalStorage (—Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
üì¶ –û–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö	‚úÖ IndexedDB
üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å	‚úÖ IndexedDB (–±–∏–Ω–∞—Ä–Ω—ã–µ –∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)



‚∏ª

üîç –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

–°–≤–æ–π—Å—Ç–≤–æ	LocalStorage	IndexedDB
üì¶ –û–±—ä—ë–º	~5MB (–∂—ë—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç)	50MB+ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞)
üïê –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å	‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø	‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
üß† –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö	–¢–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ (string)	–õ—é–±—ã–µ: ArrayBuffer, Blob, JSON
üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å	‚ùå –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —à–∏—Ñ—Ä–æ–≤–∞—Ç—å	‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ binary –¥–∞–Ω–Ω—ã—Ö
üîÅ –ú–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏	‚úÖ –î–∞	‚úÖ –î–∞
üîÑ –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ	‚ùå –ù–µ—Ç	‚ùå –ù–µ—Ç (–Ω–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é)
üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä	‚ùå –ù–µ—Ç (–Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)	‚ùå –ù–µ—Ç



‚∏ª

‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndexedDB?

–ò—Å–ø–æ–ª—å–∑—É–π, –µ—Å–ª–∏ —Ç—ã —Ö—Ä–∞–Ω–∏—à—å:
	‚Ä¢	üîê –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ (identityKeyPair, signedPreKey, OTPK)
	‚Ä¢	üì¶ –ú–∞—Å—Å–∏–≤—ã —Å–æ–æ–±—â–µ–Ω–∏–π
	‚Ä¢	üß± –®–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ binary blob‚Äô—ã
	‚Ä¢	üí¨ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è —á–∞—Ç–æ–≤

‚∏ª

‚úÖ –ö–æ–≥–¥–∞ –¥–æ–ø—É—Å—Ç–∏–º LocalStorage?
	‚Ä¢	‚ö° –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –±–µ–∑ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏
	‚Ä¢	–¢–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, AES-GCM)
	‚Ä¢	–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –±—É–∫–≤–∞–ª—å–Ω–æ –Ω–∞ 1-2 –¥–Ω—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–ª–∞–≥ ‚Äú–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥‚Äù)

‚∏ª

üö´ –ö–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LocalStorage:
	‚Ä¢	‚ùó –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏ –≤ –Ω—ë–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
	‚Ä¢	‚ùó –ü–æ–¥–≤–µ—Ä–∂–µ–Ω XSS, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–æ—Å—Ç—É–ø–µ–Ω –ª—é–±–æ–º—É —Å–∫—Ä–∏–ø—Ç—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

‚∏ª

üîê –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:

üîë –î–ª—è –∑–∞—â–∏—â—ë–Ω–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞: –∏—Å–ø–æ–ª—å–∑—É–π IndexedDB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π.

üí° –ù–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LocalStorage –∫–∞–∫ fallback –¥–ª—è ‚Äú–±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞‚Äù —Å –∫–æ—Ä–æ—Ç–∫–∏–º TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏).